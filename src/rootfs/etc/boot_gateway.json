{
  "stacks": [
    {
      "bind": "0.0.0.0:8080",
      "protocol": "tcp",
      "hook_point": [
        {
          "id": "main",
          "priority": 1,
          "blocks": [
            {
              "id": "default",
              "block": "call https-sni-probe && return \"forward tcp:///${REQ.dest_host}:443\";\ncall http-probe || reject;\neq ${REQ.ext.method} \"CONNECT\" && return \"forward tcp:///${REQ.dest_host}\";\nreturn \"forward tcp:///${REQ.dest_host}:80\";\n"
            }
          ]
        }
      ]
    },
    {
      "bind": "0.0.0.0:8081",
      "protocol": "udp",
      "hook_point": [
        {
          "id": "main",
          "priority": 1,
          "blocks": [
            {
              "id": "default",
              "block": "reject;\n"
            }
          ]
        }
      ]
    }
  ],
  "global_process_chains": [
    {
      "id": "global1",
      "priority": 1,
      "blocks": [
        {
          "id": "default",
          "block": "reject;\n"
        }
      ]
    },
    {
      "id": "global2",
      "priority": 1,
      "blocks": [
        {
          "id": "default",
          "block": "reject;\n"
        }
      ]
    }
  ],
  "inner_services": [
    {
      "id": "sn"
    }
  ]
}
